<?xml version="1.0" encoding="utf-8"?>

<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
    <configSections>
        <section name="authenticationProviders"
                 type="WorldDomination.Web.Authentication.Config.ProviderConfiguration, WorldDomination.Web.Authentication" />
        <section name="glimpse" type="Glimpse.Core.Configuration.Section, Glimpse.Core" />
    </configSections>

    <system.web>
        <compilation debug="true" targetFramework="4.0" />
        <!-- Glimpse: This can be commented in to add additional data to the Trace tab when using WebForms
        <trace writeToDiagnosticsTrace="true" enabled="true" pageOutput="false"/> -->
        <httpModules>
            <add name="Glimpse" type="Glimpse.AspNet.HttpModule, Glimpse.AspNet" />
        </httpModules>
        <httpHandlers>
            <add path="glimpse.axd" verb="GET" type="Glimpse.AspNet.HttpHandler, Glimpse.AspNet" />
        </httpHandlers>

    </system.web>

    <authenticationProviders includeFakeProviders="true">
        <providers>
            <add name="Facebook" key="113220502168922" secret="b09592a5904746646f3d402178ce9c0f" />
            <add name="Twitter" key="Rb7qNNPUPsRSYkznFTbF6Q" secret="pP1jBdYOlmCzo08QFJjGIHY4YSyPdGLPO2m1q47hu9c" />
            <add name="OpenId" key="a" secret="a" />
        </providers>
    </authenticationProviders>

    <system.diagnostics>
        <sharedListeners>
            <add name="GlimpseListener" type="Glimpse.Core.TraceListener, Glimpse.Core" />
        </sharedListeners>

        <sources>
            <source name="WD.Web.Authentication.AuthenticationService" switchValue="Verbose">
                <listeners>
                    <clear />
                    <add name="GlimpseListener">
                        <filter type="*" />
                    </add>
                </listeners>
            </source>
            <source name="WD.Web.Authentication.Providers.Facebook" switchValue="Verbose">
                <listeners>
                    <clear />
                    <add name="GlimpseListener">
                        <filter type="*" />
                    </add>
                </listeners>
            </source>
            <source name="WD.Web.Authentication.Mvc.WorldDominationAuthenticationController" switchValue="Verbose">
                <listeners>
                    <clear />
                    <add name="GlimpseListener">
                        <filter type="*" />
                    </add>
                </listeners>
            </source>
            <source name="WD.Sample.MvcAuto.Controllers.HomeController" switchValue="Verbose">
                <listeners>
                    <clear />
                    <add name="GlimpseListener">
                        <filter type="*" />
                    </add>
                </listeners>
            </source>
        </sources>
    </system.diagnostics>

    <glimpse defaultRuntimePolicy="On" endpointBaseUri="~/Glimpse.axd">
        <!-- If you are having issues with Glimpse, please include this. It will help us figure out whats going on. 
      <logging level="Trace" />-->
        <!-- Want to use Glimpse on a remote server? Ignore the LocalPolicy by removing this comment.
      <runtimePolicies>
        <ignoredTypes>
          <add type="Glimpse.AspNet.Policy.LocalPolicy, Glimpse.AspNet"/>
        </ignoredTypes>
      </runtimePolicies>-->
    </glimpse>
    <system.webServer>
        <validation validateIntegratedModeConfiguration="false" />
        <modules>
            <add name="Glimpse" type="Glimpse.AspNet.HttpModule, Glimpse.AspNet" preCondition="integratedMode" />
        </modules>
        <handlers>
            <add name="Glimpse" path="glimpse.axd" verb="GET" type="Glimpse.AspNet.HttpHandler, Glimpse.AspNet"
                 preCondition="integratedMode" />
        </handlers>
    </system.webServer>
</configuration>